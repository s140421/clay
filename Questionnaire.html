<html>
    <head>
        <title>Questionnaire</title>
        <link rel="stylesheet" href="style.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script>
            //function to validate the password
            function validatePassword(password){

                //check if the user does not enter a passwprd
                if(password.length === 0){
                    alert("The password is required")
                    return false;
                }

                //password required at least 8 charecters with mixed letters numbers and other chrecters
                if (password.length != 8){
                    alert("Password must contain of 8 chrecters");
                    return false;
                }

                // Check if password is mixed of letters and numbers and other charecters
                const hasLetter = /[a-zA-Z]/.test(password);
                const hasNumber = /\d/.test(password);
                const hasSpecialChar = /[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(password);

                //check if the password not containing different type of chrecters
                if (!hasLetter || !hasNumber || !hasSpecialChar) {
                alert("Password must be mixed of letters , numbers and other chrecters");
                return false;
                             }

               // Password meets all criteria
               return true;
               

            }

            //function to validate the email
            function validateEmail(email){
                //check if the user does not enter a password
                if(email.length === 0){
                    alert("The email is required ")
                    return false;
                }
                //check if the email contains @ symbol
                if(!email.includes("@")){
                    alert("Invalid email , try again please")
                    return false; 
                }
                return true; // Added this line to return true if email is valid
            }


            //function to validate the whole form
            function validateForm() {
                const name = document.forms["feedbackForm"]["name"].value;
                const password = document.forms["feedbackForm"]["password"].value;
                const email = document.forms["feedbackForm"]["email"].value;
                const gender = document.querySelector('input[type="radio"][name="gender"]:checked');
                const age = document.querySelector('input[type="radio"][name="age"]:checked');
                const services = document.querySelectorAll('input[type="radio"][name="services"]:checked');

                // validate password
                if (!validatePassword(password)) {
                    return false;
                }

                // validate email
                if (!validateEmail(email)) {
                     return false;
                }

                // validate gender
                if (!gender) {
                    alert("Please select your gender");
                     return false;
                 }

                // validate age
                if (!age) {
                    alert("Please select your age category");
                    return false;
                }

                // validate checkboxes of additional Services
                if (services.length === 0) {
                    alert("Please select at least one additional service");
                    return false;
                }

                // Form validation succeeded
                alert("Form submitted successfully");
                return true;
            }

            function limitTextarea(element, maxWords) {
                // Get the current value of the textarea
                const text = element.value;

                // Split the text into words using regex pattern
                const words = text.match(/\S+/g) || []; // Use \S+ to match non-whitespace characters

                // Check the number of words against the maximum limit
                if (words.length > maxWords) {
                    // If the limit is exceeded, truncate the text by removing extra words
                    element.value = words.slice(0, maxWords).join(" ");
                }
}
        </script>

    </head>

    <body>
        <div class="container-fluid">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
               
                <img src="logo2.jpg" alt="logo" class="navbar-logo">
                
                
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link"  href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"  href="workshop.html">Workshop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="shop.html">Shop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link"  href="about.html">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="funpage.html">Fun</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="Questionnaire.html">Questionnaire</a>
                    </li>
                </ul>
            </nav>
        </div>
        <br>
    <div class="headerpage" style="background-image:linear-gradient(rgba(0, 0, 0, 0.527),rgba(0, 0, 0, 0.5)),url(Questionnaire.jpg);">
        <h1 class="clay" style="font-size:100px;color:#ede7db;  text-align: center;">Questionnaire Page</h1>
    </div>
    <hr>

    <br><br>

        <div style="margin-left: 100;">
        <form action="QuesForm.php" method="post" action="javascript:void(0)" id="feedbackForm" onsubmit="return validateForm()">
            <h2 class="clay">Contact information: </h2>
            <label>Name: </label><input type="text" name="name" size="15px" placeholder="Enter your name: " >
            <br><br>
            <label >Email: <input type="email" name="email" size="25px" placeholder="Enter your email: " ></label>
            <br><br>
            <label>Password: <input type="password" name="password" size="20px" placeholder="Enter your password: " id="password" ></label>


            <br><br><br>

            <h2 class="clay">Gender:</h2>
            <label><input type="radio" name="gender" value="male" >Male</label>
            <label><input type="radio" name="gender" value="female">Female</label>

            <br><br><br>

            <h2 class="clay">Age:</h2>
            <label><input type="radio" name="age" value="5-15"> 5-15</label>
            <label><input type="radio" name="age" value="14-18"> 14-18</label>
            <label><input type="radio" name="age" value="18-25"> 18-25</label>
            <label><input type="radio" name="age" value="over25"> Over 25</label>

            <br><br><br>

            <h2 class="clay">Additional Services of Interest:</h2>
            <label > <input type="radio" name="services" value="Studio rental">Studio rental</label>
            <br>
            <label><input type="radio" name="services" value="Custom pottery commissions">Custom pottery commissions</label>
            <br>
            <label ><input type="radio" name="services" value="Pottery supplies and kits">Pottery supplies and kits</label>
            <br>
            <label ><input type="radio" name="services" value="Artisan gallery showcases">Artisan gallery showcases</label>

            <br><br><br>

            <h2 class="clay">Feedback:</h2>
            <p style="text-align: left; font-family: 'Caveat', sans-serif;">It is very important for us to share your <br>
                point of view about our site</p>
            
            <textarea name="feedback" id="feedbackText" cols="50" rows="5" oninput="limitTextarea(this, 300)">
                
            </textarea>

            <br><br>

            <input type="submit" value="Submit">
            
        </form>
        
    </div>
    <br><hr>
    <footer class="footer"></footer>
    </body>
</html>
